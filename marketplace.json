{
  "$schema": "https://code.claude.com/schemas/marketplace.json",
  "name": "claude-usage-analysis-plugin",
  "owner": {
    "name": "zhangj1164",
    "email": "your-email@example.com"
  },
  "metadata": {
    "description": "Claude Code 使用分析系统 - 帮助团队自动采集、分析使用数据，持续优化 Claude Code 使用体验的完整解决方案",
    "version": "1.0.0",
    "tags": [
      "analytics",
      "productivity",
      "team",
      "monitoring",
      "improvement"
    ],
    "icon": "./assets/icon.svg"
  },
  "plugins": [
    {
      "name": "usage-analytics",
      "description": "Complete usage analytics system including observer, recorder, analyst, and coach roles for tracking and improving Claude Code usage",
      "source": "./",
      "strict": false,
      "skills": [
        "./skills/usage-observer",
        "./skills/usage-recorder",
        "./skills/usage-analyst",
        "./skills/usage-coach"
      ]
    }
  ],
  "hooks": {
    "UserPromptSubmit": {
      "command": "skill:usage-observer",
      "description": "自动检测用户会话中的问题，由 usage-observer 分析后调用 usage-recorder 完成数据记录",
      "chain": [
        "usage-observer",
        "usage-recorder"
      ],
      "condition": {
        "type": "keyword",
        "keywords": [
          "错误",
          "失败",
          "问题",
          "报错",
          "error",
          "exception",
          "bug",
          "不对",
          "错了",
          "有问题",
          "failed",
          "fail",
          "wrong",
          "issue",
          "crash",
          "timeout",
          "超时",
          "无法",
          "不能",
          "broken"
        ]
      }
    }
  }
}
